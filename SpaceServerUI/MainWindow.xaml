<Window x:Class="SpaceServerUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Server" Height="450" Width="900">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="195"/>
            <ColumnDefinition Width="255"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <StackPanel Grid.Column="0" Margin="10,10,10,0" VerticalAlignment="Top" Height="341">
            <TextBlock x:Name="LocalIpTextBlock"
                       Text="Local IP: 127.0.0.1"
                       FontWeight="Bold"
                       FontSize="14"/>
            <TextBlock x:Name="PortTextBlock"
                       FontWeight="Bold"
                       FontSize="14"
                       Margin="0,5,0,0"/>
            <TextBlock x:Name="KeyTextBlock"
                       FontWeight="Bold"
                       FontSize="14"
                       Margin="0,5,0,10"/>
            <Separator Margin="0,10,0,10"/>
            <TextBlock Text="Change Port:" FontWeight="Bold"/>
            <TextBox x:Name="PortInputTextBox"
                     Height="30"
                     Margin="0,5,0,5"
                     VerticalContentAlignment="Center"/>
            <Button x:Name="SavePortButton"
                    Content="Save Port"
                    Height="30"
                    Click="SavePortButton_Click"/>
            <Separator Margin="0,10,0,10"/>
            <TextBlock Text="Change Key:" FontWeight="Bold"/>
            <TextBox x:Name="KeyInputTextBox"
                     Height="30"
                     Margin="0,5,0,5"
                     VerticalContentAlignment="Center"/>
            <Button x:Name="SaveKeyButton"
                    Content="Save Key"
                    Height="30"
                    Click="SaveKeyButton_Click"/>
            <Separator Margin="0,10,0,10"/>
            <Button x:Name="RestartButton"
                    Content="Restart Server"
                    Height="30"
                    Click="RestartButton_Click"
                    Background="Red"/>
        </StackPanel>

        <!-- Обновлённый контейнер для списка игроков -->
        <StackPanel Grid.Column="1" Margin="10,10,10,10">
            <!-- Заголовок со счетчиком игроков -->
            <TextBlock x:Name="PlayersHeaderTextBlock" 
                       FontWeight="Bold" 
                       FontSize="14" 
                       Text="Игроки онлайн: 0/0"
                       Margin="0,0,0,5"/>
            <!-- Обводка вокруг списка игроков -->
            <Border BorderThickness="1" BorderBrush="Gray" Padding="5">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="PlayersPanel"/>
                </ScrollViewer>
            </Border>
        </StackPanel>

        <Grid Grid.Column="2" Margin="10,10,10,10">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>
            <ListBox x:Name="LogListBox" Grid.Row="0"/>
            <Grid Grid.Row="1" Margin="0,5,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="7*"/>
                    <ColumnDefinition Width="3*"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="InputTextBox"
                         Grid.Column="0"
                         VerticalContentAlignment="Center"
                         KeyDown="InputTextBox_KeyDown"/>
                <Button x:Name="SendButton"
                        Grid.Column="1"
                        Content="Send (Enter)"
                        Click="SendButton_Click"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
