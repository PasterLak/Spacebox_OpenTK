<Window x:Class="SpaceServerUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Server" Height="500" Width="900"
        ResizeMode="NoResize">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="195"/>
            <ColumnDefinition Width="255"/>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <!-- Left column: configuration controls -->
        <StackPanel Grid.Column="0" Margin="10" VerticalAlignment="Top">
            <TextBlock x:Name="NameTextBlock" FontWeight="Bold" FontSize="14" Margin="0,5,0,10" />
            <TextBlock x:Name="LocalIpTextBlock" Text="Local IP: 127.0.0.1" FontWeight="Bold" FontSize="14"/>
            <TextBlock x:Name="PortTextBlock" FontWeight="Bold" FontSize="14" Margin="0,5,0,0"/>
            <TextBlock x:Name="KeyTextBlock" FontWeight="Bold" FontSize="14" Margin="0,5,0,0"/>

            <TextBlock Text="Change Port:" FontWeight="Bold"/>
            <TextBox x:Name="PortInputTextBox" Height="25" Margin="0,5,0,5" VerticalContentAlignment="Center" />
            <Button x:Name="SavePortButton" Content="Save Port" Height="25" Click="SavePortButton_Click"/>
            <TextBlock Text="Change Key:" FontWeight="Bold" Margin="0,10,0,0"/>
            <TextBox x:Name="KeyInputTextBox" Height="25" Margin="0,5,0,5" VerticalContentAlignment="Center"/>
            <Button x:Name="SaveKeyButton" Content="Save Key" Height="25" Click="SaveKeyButton_Click"/>
            <TextBlock Text="Change Name:" FontWeight="Bold" Margin="0,10,0,0"/>
            <TextBox x:Name="NameInputTextBox" Height="25" Margin="0,5,0,5" VerticalContentAlignment="Center"/>
            <Button x:Name="SaveNameButton" Content="Save Name" Height="25" Click="SaveNameButton_Click"/>
            <Button x:Name="StartRestartButton" Content="Start Server" Height="30" Margin="0,10,0,0" Background="Green" Click="StartRestartButton_Click"/>
            <Button x:Name="StopButton" Content="Stop Server" Height="25" Margin="0,5,0,0" Background="OrangeRed" Click="StopButton_Click" Visibility="Collapsed"/>
        </StackPanel>
        <!-- Middle column: players list -->
        <StackPanel Grid.Column="1" Margin="10">
            <TextBlock x:Name="PlayersHeaderTextBlock" FontWeight="Bold" FontSize="14" Text="Players online: 0/0" Margin="0,0,0,5"/>
            <Border BorderThickness="1" BorderBrush="Gray" Padding="5">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="PlayersPanel"/>
                </ScrollViewer>
            </Border>
        </StackPanel>
        <!-- Right column: log and input -->
        <Grid Grid.Column="2" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>
            <ListBox x:Name="LogListBox" Grid.Row="0"/>
            <Grid Grid.Row="1" Margin="0,5,0,0">
                <Grid.ColumnDefinitions>
                    <!-- Задаём три столбца: поле ввода, кнопка отправки, кнопка очистки -->
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="InputTextBox" Grid.Column="0" VerticalContentAlignment="Center" 
                         KeyDown="InputTextBox_KeyDown" Margin="0,0,5,0"/>
                <Button x:Name="SendButton" Grid.Column="1" Content="Send" Padding="5,2" 
                        Margin="0,0,5,0" Click="SendButton_Click"/>
                <Button x:Name="ClearLogButton" Grid.Column="2" Content="Clear" Padding="5,2" 
                        Click="ClearLogButton_Click"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
