@echo off
REM ??????? ? ?????????? ???????
cd /d "%~dp0"

REM ???? ? ???????
set PROJECT_PATH=Spacebox\Spacebox.csproj

REM ??????? ?????????
set RUNTIME=win-x64

REM ???? ? ?????????? ???????
set PUBLISH_DIR=Spacebox\bin\Release\net8.0\%RUNTIME%\publish

REM ?????????? ???????
dotnet publish %PROJECT_PATH% -c Release -r %RUNTIME% --no-self-contained

REM ??????????? OpenAL32.dll ? ????? publish
copy "OpenAL32.dll" "%PUBLISH_DIR%"

echo --->>> Build completed and OpenAL32.dll copied to publish folder!

REM ???????? ?????
start "" "%PUBLISH_DIR%"
